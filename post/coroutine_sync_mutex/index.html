<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Working with coroutines is subtly different from normal locking functions. Introduce some thread-safety with mutex.
'>
<title>Using the synchronized keyword in coroutines?</title>

<link rel='canonical' href='https://jacquessmuts.github.io/post/coroutine_sync_mutex/'>

<link rel="stylesheet" href="https://jacquessmuts.github.io/scss/style.min.d18289ea082c4c40b3f7fcaaea098ce3dcfb48dddbd65f95fd547cf283c42f4f.css"><script src="https://unpkg.com/kotlin-playground@1" data-selector=".kotlin-code"></script><meta property='og:title' content='Using the synchronized keyword in coroutines?'>
<meta property='og:description' content='Working with coroutines is subtly different from normal locking functions. Introduce some thread-safety with mutex.
'>
<meta property='og:url' content='https://jacquessmuts.github.io/post/coroutine_sync_mutex/'>
<meta property='og:site_name' content='Jacques Smuts'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='kotlin' /><meta property='article:tag' content='coroutines' /><meta property='article:tag' content='suspend' /><meta property='article:tag' content='mutex' /><meta property='article:tag' content='synchronized' /><meta property='article:tag' content='critical section' /><meta property='article:published_time' content='2019-06-02T09:08:10&#43;02:00'/><meta property='article:modified_time' content='2019-06-02T09:08:10&#43;02:00'/><meta property='og:image' content='https://jacquessmuts.github.io/images/coroutine_sync_mutex.png' />
<meta name="twitter:title" content="Using the synchronized keyword in coroutines?">
<meta name="twitter:description" content="Working with coroutines is subtly different from normal locking functions. Introduce some thread-safety with mutex.
"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://jacquessmuts.github.io/images/coroutine_sync_mutex.png' />
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-139178159-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="https://jacquessmuts.github.io/">
                
                    
                    
                    
                        
                        <img src="https://jacquessmuts.github.io/img/avatar_hu5fa628c318f4ac500f361023abcb481d_32022_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="https://jacquessmuts.github.io/">Jacques Smuts</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='https://jacquessmuts.github.io/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='https://jacquessmuts.github.io/page/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='https://jacquessmuts.github.io/page/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links and References</span>
            </a>
        </li>
        
        
        <li >
            <a href='https://jacquessmuts.github.io/page/famous/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>I&#39;m Famous, Mom!</span>
            </a>
        </li>
        
        
        <li >
            <a href='https://jacquessmuts.github.io/page/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="https://jacquessmuts.github.io/post/coroutine_sync_mutex/">
                
                    <img src="https://jacquessmuts.github.io/images/coroutine_sync_mutex.png" loading="lazy" alt="Featured image of post Using the synchronized keyword in coroutines?" />
                
            </a>
        </div>
    

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="https://jacquessmuts.github.io/post/coroutine_sync_mutex/">Using the synchronized keyword in coroutines?</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jun 02, 2019</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    7 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>Working with coroutines is subtly different from normal locking functions. Introduce some thread-safety with mutex.</p>
<h2 id="thread-safety-normally">Thread-Safety, normally</h2>
<p>So hopefully you&rsquo;re aware of basic thread-safety in Kotlin/Java. Sometimes you have a shared state of some kind that should only be accessed by one thread at a time. If you&rsquo;re coming from Java, you probably use the <code>synchronized(lock)</code> operator in order to ensure that a shared mutable object can only be accessed one at a time. For some great reading on this topic I suggest <a class="link" href="https://proandroiddev.com/synchronization-and-thread-safety-techniques-in-java-and-kotlin-f63506370e6d"  target="_blank" rel="noopener"
    >this post on Medium</a>.</p>
<h4 id="so-imagine-a-scenario-where-we-are-running-a-few-long-running-operations-like-api-calls-but-we-want-to-make-sure-that-we-never-run-more-than-one-such-operation-at-a-time">So imagine a scenario where we are running a few long-running operations (like API calls), but we want to make sure that we never run more than one such operation at a time.</h4>
<p>When I was starting out with Java threading I&rsquo;d probably write something risky like this:</p>
<div class="kotlin-code"
     
        data-target-platform="java"
    
     >
    <pre>
        <code class="hljs language-kotlin">
        
import kotlinx.coroutines.GlobalScope
import kotlinx.coroutines.launch

fun main() {

    val lockClass = SyncLockClass()
    for (i in 1..10) {
        GlobalScope.launch { lockClass.runFunction(i) }
    }

    Thread.sleep(2000) // We&#39;re sleeping here because otherwise the JVM would terminate before printing the results
}

class SyncLockClass() {
	val lock = Any()
	var latestValue: Int = 0

//sampleStart
	fun runFunction(input: Int) {
        println(&#34;start function $input&#34;)
	    [mark]synchronized(lock) {[/mark]
	        Thread.sleep(100) // This could also be a long-running calculation or an API call
	        latestValue = input
	    }
	    println(&#34;finished function $input at ${System.currentTimeMillis()}&#34;)
	}
//sampleEnd

	companion object {
		// Put the sync lock inside a companion object if you want to ensure that all instances of this class share a lock
		// val lock = Any()
	}
}

        </code>
    </pre>
</div>
<p>Press the play button above (assuming you didn&rsquo;t block JavaScript on this page) to see the result. Each function is blocked and waits at the <code>synchronized</code> keyword for the previous function to finish. This mostly satisfies our initial requirement, but blocks any thread which hits the <code>synchronized</code> section while it is locked. Notice how once the first few functions are hit, the JVM is blocked from starting new threads until the previous thread finishes. In other words this method works (but is dangerous) if you have lots of threads and are running blocking functions. In Kotlin Coroutines however we run <code>suspending</code> functions, not blocking functions.</p>
<h2 id="badly-with-coroutines">Badly, with Coroutines</h2>
<p>If you&rsquo;re already using coroutines you should know that a suspending function does not always block a thread. In some circumstances it pauses (suspends) the operation so that other operations can use the CPU.</p>
<p>In the example above, I&rsquo;m using coroutines to launch the function, but I&rsquo;m still blocking the thread every time the <code>runFunction()</code> function is performed, which means I&rsquo;m not really utilizing the full power of Kotlin coroutines. So, what if we replaced the blocking <code>Sleep</code> function with the suspending <code>delay()</code> function?</p>
<div class="kotlin-code"
     
        data-target-platform="java"
    
     >
    <pre>
        <code class="hljs language-kotlin">
        
import kotlinx.coroutines.GlobalScope
import kotlinx.coroutines.launch
import kotlinx.coroutines.delay

fun main() {

    val lockClass = SyncLockClass()

    for (i in 1..10) {
        GlobalScope.launch { lockClass.runFunction(i) }
    }

    Thread.sleep(2000) // We&#39;re sleeping here because otherwise the JVM would terminate before printing the results
}

class SyncLockClass() {
	val lock = Any()
	var latestValue: Int = 0

//sampleStart
	suspend fun runFunction(input: Int) {
        println(&#34;start function $input&#34;)
	    synchronized(lock) {
	        [mark]delay(100)[/mark] // This could also be a long-running calculation or an API call
	        latestValue = input
	    }
	    println(&#34;finished function $input at ${System.currentTimeMillis()}&#34;)
	}
//sampleEnd
}


        </code>
    </pre>
</div>
<p>Try to run the above code and you&rsquo;ll get an error: <code>The 'delay' suspension point is inside a critical section</code>. What does this mean? You should not delay or suspend or sleep your thread inside of a synchronized() block, as explained somewhat <a class="link" href="https://stackoverflow.com/questions/4160413/why-is-sleeping-inside-a-critical-section-a-concurrency-issue"  target="_blank" rel="noopener"
    >in this StackOverflow Thread</a>. It would ideally display as a warning in my first example as well. A critical section of code (such as in between the <code>synchronized</code> block) should be as short as possible. It is not for long-running operations because it blocks the thread. But a suspending function does not necessarily block the thread.</p>
<p>So how do we solve this issue? Maybe you&rsquo;re an oldschool Java dev and you think to just use ReentrantLock() instead. After all, synchronized is merely a simplified version of ReentrantLock. This is cheating to try and be smarter than the compiler. Don&rsquo;t do this. Run the code below to see why.</p>
<div class="kotlin-code"
     
        data-target-platform="java"
    
     >
    <pre>
        <code class="hljs language-kotlin">
        
import kotlinx.coroutines.GlobalScope
import kotlinx.coroutines.launch
import kotlinx.coroutines.delay
import java.util.concurrent.locks.ReentrantLock

fun main() {

    val lockClass = SyncLockClass()

	for (i in 1..10) {
        GlobalScope.launch { lockClass.runFunction(i) }
    }

    Thread.sleep(2000) // We&#39;re sleeping here because otherwise the JVM would terminate before printing the results
}

class SyncLockClass() {
    val reentrantLock = ReentrantLock()
	var latestValue: Int = 0

//sampleStart
	suspend fun runFunction(input: Int) {
        println(&#34;start function $input&#34;)
        reentrantLock.lock()
	    [mark]delay(100)[/mark] // This could also be a long-running calculation or an API call
	    latestValue = input
	    reentrantLock.unlock()
	    println(&#34;finished function $input at ${System.currentTimeMillis()}&#34;)
	}
//sampleEnd
}

        </code>
    </pre>
</div>
<p>As you can see this is not the results we want at all. The lock breaks, and then it gets ignored. You&rsquo;ll probably have a runtime error in the log as well. So how do we fix this? We use a Mutex.</p>
<h2 id="coroutinessyncmutex">Coroutines.Sync.Mutex</h2>
<p>There are some things we can read online on Mutex. We&rsquo;ve got <a class="link" href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.sync/-mutex/index.html"  target="_blank" rel="noopener"
    >the class documentation</a>, we have this nice <a class="link" href="https://medium.com/@nazarivanchuk/shared-mutable-state-with-coroutines-33a85e903466"  target="_blank" rel="noopener"
    >acricte</a> which explains how to use the mutex with a shared mutable state, and finally we have the <a class="link" href="https://kotlinlang.org/docs/reference/coroutines/shared-mutable-state-and-concurrency.html#mutual-exclusion"  target="_blank" rel="noopener"
    >official kotlin guide</a>. That last link is probably the best one.</p>
<p>The important takeaway is that the Mutex is part of the Coroutines package, which means we know that this mutex takes the suspending nature of coroutines into account. So how would we use it in our example?</p>
<div class="kotlin-code"
     
        data-target-platform="java"
    
     >
    <pre>
        <code class="hljs language-kotlin">
        
import kotlinx.coroutines.GlobalScope
import kotlinx.coroutines.launch
import kotlinx.coroutines.delay
import kotlinx.coroutines.sync.Mutex
import kotlinx.coroutines.sync.withLock

fun main() {

    val lockClass = SyncLockClass()

	for (i in 1..10) {
        GlobalScope.launch { lockClass.runSuspendFunctionWithMutex(i) }
    }

    Thread.sleep(2000) // We&#39;re sleeping here because otherwise the JVM would terminate before printing the results
}

class SyncLockClass() {
	var latestValue: Int = 0
	val mutex = Mutex()

	//sampleStart
	suspend fun runSuspendFunctionWithMutex(input: Int) {

    	println(&#34;running suspend function $input&#34;)
	    [mark]mutex.withLock { [/mark]
	    	delay(100) // This could also be a long-running calculation or an API call
	        println(&#34;finished suspend function $input at ${System.currentTimeMillis()}&#34;)
	        latestValue = input
	    }

}
//sampleEnd
}

        </code>
    </pre>
</div>
<p>And now things are working fine. All of the API calls are started as soon as possible and none of the threads are locked. If you look at the timestamps of the logs above you&rsquo;ll see that the events are also returned with the expected 100ms delay in between each one. The only way to have achieved this result using the same techniques as in the first example is to have 10 threads at your disposal. In fact, I can probably increase the amount of coroutines I launch with this method. Let&rsquo;s push it until we break it:</p>
<div class="kotlin-code"
     
        data-target-platform="java"
    
     >
    <pre>
        <code class="hljs language-kotlin">
        
import kotlinx.coroutines.GlobalScope
import kotlinx.coroutines.launch
import kotlinx.coroutines.delay
import kotlinx.coroutines.sync.Mutex
import kotlinx.coroutines.sync.withLock

fun main() {

    val lockClass = SyncLockClass()

    println(&#34;(only printing the first 3, and multiples of 50)&#34;)
	//sampleStart
	for (i in 1..4000) {
        GlobalScope.launch { lockClass.runSuspendFunctionWithMutex(i) }
    }

    Thread.sleep(8000) // We&#39;re sleeping here because otherwise the JVM would terminate before printing the results
	//sampleEnd
}

class SyncLockClass() {
	var latestValue: Int = 0
	val mutex = Mutex()

	suspend fun runSuspendFunctionWithMutex(input: Int) {

		if (input &lt; 4 || input % 50 == 0)
    		println(&#34;running suspend function $input&#34;)
	    mutex.withLock {
	    	delay(2) // This could also be a long-running calculation or an API call

			if (input &lt; 4 || input % 50 == 0)
	        	println(&#34;finished suspend function $input at ${System.currentTimeMillis()}&#34;)
	        latestValue = input
	    }

}
}

        </code>
    </pre>
</div>
<p>I didn&rsquo;t manage to break the Kotlin Playground with any amount of coroutines. The environment provided by the Kotlin playground only allows you to run for 10 seconds. The above code maximises that time without breaking anything, or blocking any threads. If you scroll through the logs you&rsquo;ll see that some of the old functions are eventually getting finished while more coroutines are still being launched. This just goes to show how powerful coroutines and suspending functions are.</p>
<h2 id="a-better-way">A Better way?</h2>
<p>Threading and concurrency is a difficult topic. It is exceptionally easy to shoot yourself in the foot, by for example creating a deadlock. I suggest you read <a class="link" href="https://medium.com/@elizarov/deadlocks-in-non-hierarchical-csp-e5910d137cc"  target="_blank" rel="noopener"
    >this great article by Roman Elizarov</a> on how to avoid deadlocks in practical coroutines. (Thanks to <a class="link" href="https://github.com/spand"  target="_blank" rel="noopener"
    >Johannes Jensen</a> for the suggestion.)</p>
<p>Our code sample above works, but it&rsquo;s still dangerous. If one function gets locked or indefinitely suspended for any reason, you end up in a deadlock. Ideally you want to avoid launching a coroutine or entering a suspend function until the conditions are ideal to do so. If you cannot stop a coroutine from being launched when it&rsquo;s not ready, you can at least queue up several suspend functions using the <code>Mutex</code> class.</p>
<p>But since we&rsquo;re queuing things up, maybe it would be better to use something like the <a class="link" href="https://docs.oracle.com/javase/8/docs/api/?java/util/concurrent/BlockingQueue.html"  target="_blank" rel="noopener"
    >BlockingQueue</a> class in Java? I&rsquo;m still investigating that part, but spoilers: <a class="link" href="https://kotlinlang.org/docs/reference/coroutines/channels.html#channel-basics"  target="_blank" rel="noopener"
    >Channels</a></p>
<h2 id="conclusion">Conclusion</h2>
<p>Coroutines are better than multithreading, but comes with all of the same dangers as normal multithreading. Just because it&rsquo;s easy to use does not mean it&rsquo;s safe. Be careful out there.</p>
<p>Can you think of a better way to handle this scenario? Please let me know in the comments below.</p>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="https://jacquessmuts.github.io/tags/kotlin/">kotlin</a>
        
            <a href="https://jacquessmuts.github.io/tags/coroutines/">coroutines</a>
        
            <a href="https://jacquessmuts.github.io/tags/suspend/">suspend</a>
        
            <a href="https://jacquessmuts.github.io/tags/mutex/">mutex</a>
        
            <a href="https://jacquessmuts.github.io/tags/synchronized/">synchronized</a>
        
            <a href="https://jacquessmuts.github.io/tags/critical-section/">critical section</a>
        
    </section>


    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="https://jacquessmuts.github.io/post/callback-hell/">
        
        
            <div class="article-image">
                
                    <img src="https://jacquessmuts.github.io/images/callback_hell4.png" loading="lazy" data-key="callback-hell" data-hash="/images/callback_hell4.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Escaping Callback Hell with Generic SuspendCoroutine Infix Extension Functions</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="https://jacquessmuts.github.io/post/kfunction_analogues/">
        
        
            <div class="article-image">
                
                    <img src="https://jacquessmuts.github.io/images/generic_interfaces3.png" loading="lazy" data-key="" data-hash="/images/generic_interfaces3.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">The Problem with Kotlin Kfunction Receiver Functions</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="https://jacquessmuts.github.io/post/library_template/">
        
        
            <div class="article-image">
                
                    <img src="https://jacquessmuts.github.io/images/library_template3.png" loading="lazy" data-key="" data-hash="/images/library_template3.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Creating and Deploying an Android Library via CircleCI</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="https://jacquessmuts.github.io/post/generic_interface_and_methods/">
        
        
            <div class="article-image">
                
                    <img src="https://jacquessmuts.github.io/images/generic_interfaces3.png" loading="lazy" data-key="" data-hash="/images/generic_interfaces3.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Generics &#43; Reflection &#43; Type Inference &#43; Reified Type = Kotlin Magic</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="https://jacquessmuts.github.io/post/modularization/">
        
        
            <div class="article-image">
                
                    <img src="https://jacquessmuts.github.io/images/modularization3.png" loading="lazy" data-key="" data-hash="/images/modularization3.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Is your modularization making any progress?</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2022 Jacques Smuts
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.16.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
        <br/>Sneaky <a rel="me" href="https://androiddev.social/@Jacques">Mastodon</a> verification link.
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="https://jacquessmuts.github.io/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
